"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[756],{6822:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(8683),s=(n(2791),n(5717)),a=(n(3037),n(8688),n(1088),n(1626),n(7765),n(9423),n(3504)),r=n(6030),c=n(184);function o(){var e=(0,r.v9)((function(e){return e.product.currentProduct})),t={className:"center promotion-slider",arrows:!1,centerMode:!0,infinite:!0,centerPadding:"0px",lazyLoad:!0,slidesToShow:e.length>6?6:e.length-1,slidesToScroll:1,speed:500,autoplay:!0,autoplaySpeed:2e3,initialSlide:1,responsive:[{breakpoint:1300,settings:{slidesToShow:5}},{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:900,settings:{slidesToShow:3}},{breakpoint:700,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:1}}]};return(0,c.jsx)("section",{className:"watched",children:(0,c.jsx)(s.Z,(0,i.Z)((0,i.Z)({},t),{},{children:e&&e.map((function(e,t){return(0,c.jsxs)(a.rU,{to:"/product/"+encodeURI(e.name)+"/"+e._id,className:"watched__card",children:[(0,c.jsx)("div",{className:"watched__item-image",children:(0,c.jsx)("img",{className:"watched__image",src:e.gallery&&e.gallery[0].image,alt:"watched"})}),(0,c.jsxs)("div",{className:"watched__description",children:[(0,c.jsx)("div",{className:"watched__title",children:e.name}),(0,c.jsxs)("div",{className:"watched__rating",children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433 ",e.rating]}),(0,c.jsx)("div",{className:"watched__price",children:e.price.fullPrice})]})]},e._id)}))}))})}},6756:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(2982),s=n(885),a=(n(4569),n(2791)),r=n(6030),c=n(6871),o=n(9539),d=n(6822),l=n(243),u=n(184);function f(){var e=(0,a.useState)([]),t=(0,s.Z)(e,2),n=t[0],f=t[1],h=(0,a.useState)(!1),p=(0,s.Z)(h,2),g=(p[0],p[1],(0,c.s0)(),(0,r.v9)((function(e){return e.user}))),m=g.currentUser,_=g.isAuth,v=g.isLoading,x=(0,r.v9)((function(e){return e.favorites.currentFavorites}));function w(e,t){for(var n=[],i=0;i<e.length;i++)for(var s=0;s<t.length;s++)e[i]._id.includes(t[s])&&n.push(e[i]);return n}function j(e){e.length&&Promise.all(e.map((function(e){return fetch("/api/product/byid/"+e).then((function(e){return e.json()})).then((function(e){n.map((function(e){return e._id})).includes(e._id)||f((function(t){return[].concat((0,i.Z)(t),[e])}))}))})))}return(0,a.useEffect)((function(){document.body.scrollIntoView()}),[]),(0,a.useEffect)((function(){_&&j(m.favorites)}),[_]),(0,a.useEffect)((function(){_&&f(w(n,m.favorites))}),[m]),(0,a.useEffect)((function(){_||(n.length?f(w(n,x)):j(x))}),[x]),(0,u.jsxs)("article",{className:"favorites-page",children:[(0,u.jsx)("h1",{className:"favorites-page__title",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),(0,u.jsx)("div",{className:"favorites-page__grid",children:v||n.length?(0,u.jsx)(u.Fragment,{children:n.map((function(e,t){return(0,u.jsx)(o.Z,{product:e},e._id)}))}):(0,u.jsx)(l.Z,{})}),(0,u.jsxs)("div",{className:"favorites-page__watched",children:[(0,u.jsx)("h2",{className:"favorites-page__watched-title",children:"\u0412\u044b \u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0438"}),(0,u.jsx)(d.Z,{})]})]})}},1088:function(e,t,n){e.exports=n.p+"static/media/first.d83930aa2dac81e78617.png"},9423:function(e,t,n){e.exports=n.p+"static/media/fourth.bb823f03e0ad8950dba7.png"},1626:function(e,t,n){e.exports=n.p+"static/media/second.8cebfbfb8ee79dca0092.png"},7765:function(e,t,n){e.exports=n.p+"static/media/third.22e381f662de32fd9472.png"}}]);
//# sourceMappingURL=756.44dc8470.chunk.js.map