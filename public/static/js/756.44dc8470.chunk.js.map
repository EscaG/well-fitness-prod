{"version":3,"file":"static/js/756.44dc8470.chunk.js","mappings":"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","sources":["Components/Layout/Watched/Watched.jsx","Components/Pages/FavoritesPage/FavoritesPage.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport './style-watched.scss';\r\n\r\nimport watchedFirst from './img/first.png';\r\nimport watchedSecond from './img/second.png';\r\nimport watchedThird from './img/third.png';\r\nimport watchedFourth from './img/fourth.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function Watched() {\r\n\tconst products = useSelector(state => state.product.currentProduct);\r\n\r\n\tconst watchedItems = [\r\n\t\t{\r\n\t\t\timage: watchedFirst,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower S35\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"34 900\"\r\n\t\t},\r\n\t\t{\r\n\t\t\timage: watchedSecond,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower T20 Plus\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"33 700\"\r\n\t\t},\r\n\t\t{\r\n\t\t\timage: watchedThird,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower T20 Plus\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"49 999\"\r\n\t\t},\r\n\t\t{\r\n\t\t\timage: watchedFourth,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower S35\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"44599\"\r\n\t\t},\r\n\t\t{\r\n\t\t\timage: watchedFirst,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower S35\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"34 900\"\r\n\t\t},\r\n\t\t{\r\n\t\t\timage: watchedSecond,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower T20 Plus\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"33 700\"\r\n\t\t},\r\n\t\t{\r\n\t\t\timage: watchedThird,\r\n\t\t\ttitle: \"Беговая дорожка CardioPower T20 Plus\",\r\n\t\t\trating: \"5\",\r\n\t\t\tprice: \"49 999\"\r\n\t\t}\r\n\r\n\t]\r\n\tconst settingsPromotion = {\r\n\t\tclassName: \"center promotion-slider\",\r\n\t\tarrows: false,\r\n\t\tcenterMode: true,\r\n\t\tinfinite: true,\r\n\t\tcenterPadding: \"0px\",\r\n\t\tlazyLoad: true,\r\n\t\tslidesToShow: products.length > 6 ? 6 : products.length - 1,\r\n\t\tslidesToScroll: 1,\r\n\t\tspeed: 500,\r\n\t\tautoplay: true,\r\n\t\tautoplaySpeed: 2000,\r\n\t\tinitialSlide: 1,\r\n\t\tresponsive: [\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 1300,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 5,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 1100,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 4,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 900,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 700,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tbreakpoint: 400,\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tslidesToShow: 1,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<section className='watched'>\r\n\t\t\t<Slider {...settingsPromotion}>\r\n\t\t\t\t{products && products.map((item, index) =>\r\n\t\t\t\t\t<Link key={item._id} to={\"/product/\" + encodeURI(item.name) + \"/\" + item._id} className='watched__card'>\r\n\t\t\t\t\t\t<div className='watched__item-image'>\r\n\r\n\t\t\t\t\t\t\t<img className='watched__image' src={item.gallery && item.gallery[0].image} alt=\"watched\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='watched__description'>\r\n\t\t\t\t\t\t\t<div className=\"watched__title\">{item.name}</div>\r\n\t\t\t\t\t\t\t<div className=\"watched__rating\">Рейтинг {item.rating}</div>\r\n\t\t\t\t\t\t\t<div className=\"watched__price\">{item.price.fullPrice}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t</Slider>\r\n\t\t</section>\r\n\t)\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport './favoritespage.scss';\r\nimport { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ProductCardItem from '../../Layout/ProductCardItem/ProductCardItem';\r\nimport Watched from '../../Layout/Watched/Watched';\r\nimport SpinnerLoad from '../../Layout/SpinnerLoad/SpinnerLoad';\r\n\r\nexport default function FavoritesPage() {\r\n\tconst [productsFavorites, setProductsFavorites] = useState([]);\r\n\tconst [isLoad, setIsLoad] = useState(false);\r\n\tconst navigate = useNavigate();\r\n\tconst { currentUser, isAuth, isLoading } = useSelector(state => state.user);\r\n\tconst favoritesFromRedux = useSelector(state => state.favorites.currentFavorites);\r\n\tconst API_URL = process.env.REACT_APP_BASE_URL;\r\n\t// const goError = () => navigate('/404', { replace: true });\r\n\t// console.log(currentUser);\r\n\tuseEffect(() => {\r\n\t\tdocument.body.scrollIntoView();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isAuth) {\r\n\t\t\tpromAll(currentUser.favorites)\r\n\t\t}\r\n\t}, [isAuth])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isAuth) {\r\n\t\t\tsetProductsFavorites(def(productsFavorites, currentUser.favorites))\r\n\t\t}\r\n\t}, [currentUser]);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isAuth) {\r\n\t\t\tif (productsFavorites.length) {\r\n\t\t\t\tsetProductsFavorites(def(productsFavorites, favoritesFromRedux))\r\n\t\t\t} else {\r\n\t\t\t\tpromAll(favoritesFromRedux)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [favoritesFromRedux])\r\n\r\n\tfunction def(a, b) {\r\n\t\tlet arr = [];\r\n\t\tfor (let i = 0; i < a.length; i++) {\r\n\t\t\tfor (let j = 0; j < b.length; j++) {\r\n\t\t\t\tif ((a[i]._id).includes(b[j])) {\r\n\t\t\t\t\tarr.push(a[i])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\r\n\tfunction promAll(favorites) {\r\n\t\tif (favorites.length) {\r\n\t\t\tPromise.all(\r\n\t\t\t\tfavorites.map(id => fetch(API_URL + '/product/byid/' + id)\r\n\t\t\t\t\t.then(val => val.json())\r\n\t\t\t\t\t.then(val => {\r\n\t\t\t\t\t\tif (!productsFavorites.map(v => v._id).includes(val._id)) {\r\n\t\t\t\t\t\t\tsetProductsFavorites(productsFavorites => [...productsFavorites, val])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t))\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<article className='favorites-page'>\r\n\t\t\t<h1 className='favorites-page__title'>Избранное</h1>\r\n\t\t\t<div className='favorites-page__grid'>\r\n\r\n\t\t\t\t{isLoading ?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproductsFavorites.map((product, index) =>\r\n\t\t\t\t\t\t\t\t<ProductCardItem key={product._id} product={product} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t</>\r\n\t\t\t\t\t: productsFavorites.length ?\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tproductsFavorites.map((product, index) =>\r\n\t\t\t\t\t\t\t\t\t<ProductCardItem key={product._id} product={product} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</> :\r\n\t\t\t\t\t\t<SpinnerLoad />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className='favorites-page__watched'>\r\n\t\t\t\t<h2 className='favorites-page__watched-title'>Вы смотрели</h2>\r\n\t\t\t\t<Watched />\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n}\r\n"],"names":["Watched","products","useSelector","state","product","currentProduct","settingsPromotion","className","arrows","centerMode","infinite","centerPadding","lazyLoad","slidesToShow","length","slidesToScroll","speed","autoplay","autoplaySpeed","initialSlide","responsive","breakpoint","settings","map","item","index","to","encodeURI","name","_id","src","gallery","image","alt","rating","price","fullPrice","FavoritesPage","useState","productsFavorites","setProductsFavorites","useNavigate","user","currentUser","isAuth","isLoading","favoritesFromRedux","favorites","currentFavorites","def","a","b","arr","i","j","includes","push","promAll","Promise","all","id","fetch","API_URL","then","val","json","v","useEffect","document","body","scrollIntoView","ProductCardItem","SpinnerLoad"],"sourceRoot":""}