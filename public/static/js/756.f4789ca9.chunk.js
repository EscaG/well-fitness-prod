"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[756],{6756:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(2982),i=n(885),s=(n(4569),n(2791)),c=n(6030),u=n(6871),a=n(9539),f=n(6822),o=n(243),l=n(184);function d(){var e=(0,s.useState)([]),t=(0,i.Z)(e,2),n=t[0],d=t[1],h=(0,s.useState)(!1),v=(0,i.Z)(h,2),p=(v[0],v[1],(0,u.s0)(),(0,c.v9)((function(e){return e.user}))),g=p.currentUser,_=p.isAuth,m=p.isLoading,j=(0,c.v9)((function(e){return e.favorites.currentFavorites}));function x(e,t){for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)e[r]._id.includes(t[i])&&n.push(e[r]);return n}function Z(e){e.length&&Promise.all(e.map((function(e){return fetch("/api/product/byid/"+e).then((function(e){return e.json()})).then((function(e){n.map((function(e){return e._id})).includes(e._id)||d((function(t){return[].concat((0,r.Z)(t),[e])}))}))})))}return(0,s.useEffect)((function(){document.body.scrollIntoView()}),[]),(0,s.useEffect)((function(){_&&Z(g.favorites)}),[_]),(0,s.useEffect)((function(){_&&d(x(n,g.favorites))}),[g]),(0,s.useEffect)((function(){_||(n.length?d(x(n,j)):Z(j))}),[j]),(0,l.jsxs)("article",{className:"favorites-page",children:[(0,l.jsx)("h1",{className:"favorites-page__title",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),(0,l.jsx)("div",{className:"favorites-page__grid",children:m||n.length?(0,l.jsx)(l.Fragment,{children:n.map((function(e,t){return(0,l.jsx)(a.Z,{product:e},e._id)}))}):(0,l.jsx)(o.Z,{})}),(0,l.jsxs)("div",{className:"favorites-page__watched",children:[(0,l.jsx)("h2",{className:"favorites-page__watched-title",children:"\u0412\u044b \u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0438"}),(0,l.jsx)(f.Z,{})]})]})}}}]);
//# sourceMappingURL=756.f4789ca9.chunk.js.map